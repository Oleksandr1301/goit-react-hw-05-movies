"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[961],{913:function(e,r,t){t.d(r,{Hg:function(){return d},IQ:function(){return h},Jh:function(){return f},pm:function(){return p},s_:function(){return l}});var n=t(861),i=t(757),a=t.n(i),c=t(243),s=t(7),u=t.n(s),o="5df8195cde59490a98b624cfb815be7a";c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var d=function(){var e=(0,n.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/movie/day?api_key=".concat(o));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("search/movie?api_key=".concat(o,"&query=").concat(r));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(r,"?api_key=").concat(o));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(r,"/credits?api_key=").concat(o));case 2:return t=e.sent,e.abrupt("return",t.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(r,"/reviews?api_key=").concat(o));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();d.propTypes={search:u().string.isRequired}},961:function(e,r,t){t.r(r);var n=t(439),i=t(791),a=t(689),c=t(87),s=t(913),u=t(184);r.default=function(){var e,r,t,o=(0,i.useState)(null),d=(0,n.Z)(o,2),p=d[0],l=d[1],h=(0,a.UO)().movieId,f=(0,a.TH)(),v=(0,i.useRef)(null!==(e=null===(r=f.state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/");if((0,i.useEffect)((function(){(0,s.s_)(h).then(l)}),[h]),p)return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(c.rU,{to:v.current,children:(0,u.jsx)("button",{children:"\u2190 Go back"})}),(0,u.jsx)("img",{src:p.poster_path?"https://www.themoviedb.org/t/p/w500/".concat(p.poster_path):"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:"".concat(p.title)})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("h2",{children:[p.title," (",p.release_date.slice(0,4),")"]}),(0,u.jsxs)("p",{children:["User score: ",(t=p.vote_average,new Intl.NumberFormat("default",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}).format(t/10))]}),(0,u.jsx)("h3",{children:"Overview"}),(0,u.jsx)("p",{children:p.overview}),(0,u.jsx)("h3",{children:"Genres"}),(0,u.jsx)("p",{children:p.genres.map((function(e){return e.name})).join(" / ")})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Additional information"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(c.rU,{to:"cast",children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(c.rU,{to:"reviews",children:"Reviews"})})]})]}),(0,u.jsx)(i.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:(0,u.jsx)(a.j3,{})})]})}}}]);
//# sourceMappingURL=961.0a08bd81.chunk.js.map